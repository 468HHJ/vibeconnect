<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>vibeconnect // Video Playback </title>
<style>
    /* NETFLIX INSPIRED THEME VARIABLES */
    :root {
        --color-netflix-red: #e50914; 
        --color-bg-deep: #0a0a0a;    /* Even Darker Background */
        --color-text-main: #ffffff;
        --color-text-fade: #aaaaaa;
    }

    /* BASE STYLES */
    body {
        margin: 0;
        padding: 0;
        background: var(--color-bg-deep);
        color: var(--color-text-main);
        font-family: 'Roboto', 'Helvetica Neue', Arial, sans-serif;
        display: flex;
        flex-direction: column;
        align-items: center;
        min-height: 100vh;
    }

    /* HEADER / TITLE */
    #main-content-wrapper {
        width: 100%;
        max-width: 1400px; /* Broader content area */
        padding: 20px 50px;
        box-sizing: border-box;
    }

    h2#videoTitle {
        margin: 0 0 15px 0;
        font-size: 32px;
        color: var(--color-text-main);
        font-weight: 700;
        border-bottom: 2px solid var(--color-netflix-red);
        padding-bottom: 5px;
        text-shadow: 0 0 5px rgba(229, 9, 20, 0.4);
    }
    
    /* VIDEO PLAYER CONTAINER (The Unique Part) */
    #videoPlayer {
        width: 100%;
        max-width: 1000px; /* A focused video frame size */
        aspect-ratio: 16 / 9; /* Ensures cinematic 16:9 ratio */
        box-shadow: 0 5px 25px rgba(0, 0, 0, 0.9), 0 0 20px var(--color-netflix-red); /* Premium Shadow */
        border: 4px solid var(--color-netflix-red); /* Red accent border */
        border-radius: 8px;
        overflow: hidden;
        margin-bottom: 30px;
    }
    iframe {
        width: 100%;
        height: 100%;
        border: none;
    }

    /* AD BANNER CONTAINER STYLE (Clean Integration) */
    .ad-banner-container {
        text-align: center;
        margin: 20px 0;
        max-width: 728px; 
    }
    .ad-text {
        color: var(--color-text-fade);
        font-size: 11px;
        margin-bottom: 5px;
    }

    /* LOADER/NOT FOUND MESSAGE */
    p {
        text-align: center;
        color: var(--color-netflix-red);
        font-size: 24px;
        font-weight: bold;
        padding-top: 50px;
    }
    
    /* SUBTITLE/CATEGORY INFO */
    p#category-info {
        color: var(--color-text-fade);
        font-size: 16px;
        margin-top: 5px;
    }
</style>
</head>
<body>

<div id="main-content-wrapper">
    <!-- Video Title aur Category yahan aayega -->
    <h2 id="videoTitle">LOADING VIDEO...</h2>
    <p id="category-info"></p>

    <!-- The Unique Video Player Frame -->
    <div id="videoPlayer"></div>

    <!-- -------------------------------------------------- -->
    <!-- --- AD BANNER 1: PLAYER KE NICHE (Cleanly Inserted) --- -->
    <!-- -------------------------------------------------- -->
    <div class="ad-banner-container">
        <div class="ad-text">STREAMING ADVERTISEMENT</div>
        
        <script type="text/javascript">
          atOptions = {
            'key' : '98d10da7d4581157aba640737d50fc35',
            'format' : 'iframe',
            'height' : 90,
            'width' : 728,
            'params' : {}
          };
        </script>
        <script
          type="text/javascript"
          src="//www.highperformanceformat.com/98d10da7d4581157aba640737d50fc35/invoke.js"
        ></script>
    </div>
</div>

<script>
    const urlParams = new URLSearchParams(window.location.search);
    const videoId = urlParams.get('v');
    const category = urlParams.get('cat');
    const title = urlParams.get('title'); // Assuming you pass the actual title from the home page now

    const videoTitleElement = document.getElementById('videoTitle');
    const categoryInfoElement = document.getElementById('category-info');
    const videoPlayerDiv = document.getElementById('videoPlayer');

    if(videoId){
        videoPlayerDiv.innerHTML = `
            <iframe 
                id="myVideoIframe"
                src="https://www.youtube.com/embed/${videoId}?autoplay=1&rel=0" 
                allow="autoplay; encrypted-media" 
                allowfullscreen>
            </iframe>
        `;
    } else {
        videoPlayerDiv.innerHTML = `<p>Error: Video ID not found!</p>`;
    }
    
    // Title aur Category ko theek karna
    if(category){
        categoryInfoElement.textContent = `Category: ${category}`;
    }

    // Since URL doesn't pass 'title' yet, we set a default or use category
    // For a truly unique site, you would pass 'title' in the a.href on the index page.
    if(title) {
        videoTitleElement.textContent = title;
    } else {
        videoTitleElement.textContent = `Streaming Content - ${category || 'Unknown'}`;
    }
</script>

<!-- Popunder Trigger Script (Aapka original logic) -->
<script type="text/javascript">
let popTriggered = false;

window.addEventListener('load', function() {
    // Ye check karega ki Iframe exist karta hai ya nahi error case ko ignore karne ke liye
    const iframe = document.getElementById('myVideoIframe');

    if (iframe) {
        // Iframe load hone par hum ad trigger karte hain
        iframe.addEventListener('load', function() {
            if(!popTriggered){
                popTriggered = true;
                // Popunder script
                var popScript = document.createElement('script');
                popScript.type = 'text/javascript';
                popScript.src = "https://pl28210868.effectivegatecpm.com/dd/a4/38/dda4381b3907037ae68fe49a33735150.js";
                document.body.appendChild(popScript);
            }
        });

        // Agar iframe pehle se load ho chuka hai (caching/browser behaviour)
        if (iframe.contentWindow) {
             // Hum yahan bhi manually trigger kar sakte hain agar load event miss ho jaye
             if(!popTriggered) {
                 popTriggered = true;
                 var popScript = document.createElement('script');
                 popScript.type = 'text/javascript';
                 popScript.src = "https://pl28210868.effectivegatecpm.com/dd/a4/38/dda4381b3907037ae68fe49a33735150.js";
                 document.body.appendChild(popScript);
             }
        }
    }
});
</script>

</body>
</html>
